// Generated by CoffeeScript 1.6.3
(function() {
  var _ref,
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  window.LoginView = (function(_super) {
    __extends(LoginView, _super);

    function LoginView() {
      _ref = LoginView.__super__.constructor.apply(this, arguments);
      return _ref;
    }

    LoginView.prototype.template = '<div class="row">\
      <div class="col-lg-4"></div>\
      <div class="col-lg-4">\
        <h1>Mosaic Films</h1>\
        <div class="well">\
          <div class="input-group">\
            <input type="text" class="form-control" placeholder="enter a new or existing username">\
            <span class="input-group-btn">\
              <button id="submitButton" class="btn btn-default" type="button">Go</button>\
            </span>\
          </div>\
        </div>\
        <div class="col-lg-4"></div>\
      </div>\
    </div>\
    <div class="row">\
      <div class="col-lg-2"></div>\
      <div class="col-lg-8">\
        <div class="fimagecontainer">\
          <div class="coversprites fimage oldboyy"></div>\
          <div class="coversprites fimage timessquare"></div>\
          <div class="coversprites fimage dogs"></div>\
          <div class="coversprites fimage space"></div>\
        </div>\
      </div>\
      <div class="col-lg-2"></div>\
    </div>';

    LoginView.prototype.initialize = function() {
      return this.render();
    };

    LoginView.prototype.events = {
      "click #submitButton": 'getUser',
      "keyup :input": 'checkEnter'
    };

    LoginView.prototype.checkEnter = function(e) {
      console.log(e);
      if (e.which === 13) {
        return this.getUser();
      }
    };

    LoginView.prototype.getUser = function() {
      var _this = this;
      this.username = this.$('input').val();
      _(this.model).extend({
        name: this.username
      });
      return this.model.fetch({
        error: function(model, response) {
          return console.log('model', model);
        },
        success: function(model, response) {
          return _this.userInfoReceived(response);
        }
      });
    };

    LoginView.prototype.userInfoReceived = function(userObject) {
      return this.trigger('userInfoReceived', userObject);
    };

    LoginView.prototype.render = function() {
      return this.$el.append(this.template);
    };

    return LoginView;

  })(Backbone.View);

}).call(this);

/*
//@ sourceMappingURL=LoginView.map
*/
